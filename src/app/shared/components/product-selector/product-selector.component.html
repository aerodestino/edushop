<div class="m-portlet m-portlet--mobile">
    <div class="m-portlet__body">
        <div class="row">
            <div class="col-md-5">
                <div class="m-input-icon m-input-icon--left">
                    <input type="text" class="form-control m-input m-input--solid" placeholder="Search..."
                           [(ngModel)]="filters.q" name="search" (keyup.enter)="onSearch()">
                    <span class="m-input-icon__icon m-input-icon__icon--left">
                        <span>
                            <i class="fa fa-search"></i>
                        </span>
                    </span>
                </div>
            </div>
            <div class="col-md-7 m--align-right">
                <div class="m-input-icon m-input-icon--left">
                    <input type="text" class="form-control m-input m-input--solid" placeholder="SKUS"
                           [(ngModel)]="filters.skus" name="skus" (keyup.enter)="onSearch()">
                    <span class="m-input-icon__icon m-input-icon__icon--left">
                        <span>
                            <i class="fa fa-search"></i>
                        </span>
                    </span>
                </div>

            </div>
        </div>
        <div class="row m--align-right" style="margin-top: 10px">
            <div class="col-12 m--align-right">
                <button *ngIf="seleccionarTodos" type="button" class="btn btn-success m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill"
                        (click)="onSelectAll()">
                        <span>
                            Seleccionar Todos
                        </span>
                </button>
                <button type="button" class="btn btn-success m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill"
                        (click)="onAddProducto()">
                        <span>
                            <i class="fa fa-plus"></i>
                        <span>
                            Agregar Seleccionados
                        </span>
                        </span>
                </button>
            </div>
        </div>
        <div class="row" id="productosDiv" style="margin-top: 10px; max-height: 500px; overflow: scroll" (scroll)="onScroll()">
            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12"
                 *ngFor="let producto of productos" style="margin: 10px">
                <img [src]="producto.medias[0].url"
                     (click)="selectProducto(producto)"
                     *ngIf="producto.medias"
                     [class.selected]="producto.selected"
                >
                <img src="../../../../assets/img/sin%20imagenes.jpg"
                     (click)="selectProducto(producto)"
                     *ngIf="!producto.medias"
                     [class.selected]="producto.selected"
                ><br>
                <span>{{producto.skuMaster}}</span><br>
                <span class="m--font-info">{{producto.titulo | textDrop: 40}}</span><br>
                <span *ngIf="producto.noOrden">Orden: {{producto.noOrden}}</span>
            </div>
        </div>
        <div class="row" style="justify-content: center; margin-top: 10px" *ngIf="searching">
            <div class="m-loader" style="width: 30px;"></div>
        </div>
    </div>
</div>